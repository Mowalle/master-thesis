\documentclass[
    draft=true,
    paper=a4,
    fontsize=11pt,
    twoside=true,
    captions=tableheading,
    british, ngerman,
    numbers=noenddot,
    appendixprefix
]{scrreprt}
\usepackage[headsepline]{scrlayer-scrpage}
\pagestyle{scrheadings}
\automark[section]{chapter}

\usepackage{babel}

%\usepackage{fontspec}
\usepackage[utf8]{inputenc}
\usepackage[final]{microtype}

\usepackage{libertine}
\usepackage{libertinust1math}
\usepackage[scaled=0.9]{DejaVuSansMono}
\usepackage[T1]{fontenc}

\usepackage{xcolor}

%\usepackage{showframe}

%\usepackage{float}
\usepackage{booktabs, colortbl}
\usepackage{amsmath, amssymb, bm}
\usepackage[autopunct]{csquotes}
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{shadows}
\usepackage{multirow}

\usepackage[title, toc, titletoc]{appendix}
\renewcommand{\appendixpagename}{\appendixname}
\renewcommand{\appendixtocname}{\appendixname}
\makeatletter
\addto\extrasngerman{%
    \renewcommand{\appendixautorefname}{\appendixname}%
    \@ifundefined{Anhangautorefname}{%
        \newcommand{\Anhangautorefname}{\appendixname}%
    }{%
        \renewcommand{\Anhangautorefname}{\appendixname}%
    }
}
\makeatother

\usepackage{siunitx}
\sisetup{locale = DE}

\usepackage[
    colorlinks=true,
    allcolors=black,
    urlcolor=blue,
]{hyperref}

\usepackage[
    format=plain,
    indention=0cm,
    labelfont=bf,
    textfont=it,
    justification=centerlast,
    %margin=2cm,
    labelsep=colon,
    figureposition=bottom, % Adjust spacing above caption for figures.
    tableposition=top % Adjust spacing below caption for tables.
]{caption}
\usepackage[labelformat=parens, subrefformat=simple]{subcaption}

\usepackage{listings}
\usepackage{tabularx}
\renewcommand{\arraystretch}{1.2}

\definecolor{dark-grey}{rgb}{0.3, 0.3, 0.3}
\definecolor{comment-green}{rgb}{0.0, 0.6, 0.0}

\lstset{
    aboveskip = 1em,
    belowskip = 1em,
%    abovecaptionskip=1em,
    belowcaptionskip=1em,
%    backgroundcolor = \color{black!5},
    basicstyle = \ttfamily,
    caption = \lstname,
    commentstyle = \itshape\color{comment-green},
%     frame = single,
    rulecolor = \color{black!10},
    keywordstyle = \color{blue},
    numbers = left,
    numbersep = 12pt,
    numberstyle = \footnotesize\ttfamily\color{dark-grey},
    stepnumber = 1,
    showstringspaces = false,
    tabsize = 4
}

\usepackage{todonotes}
\usepackage{lipsum}

\usepackage[
    backend = biber, % Sets biber as backend.
    style = numeric-comp,
    sorting = none,
    defernumbers = true,
    maxcitenames = 2, % Truncate lists above 2 entries (e.g. names) when citing.
    mincitenames = 1, % Truncate to 1 entry (e.g. names) when citing.
    maxbibnames = 3, % Truncate lists above 3 entries (e.g. names) in bib.
    minbibnames = 3, % Truncate to 3 entries (e.g. names) in bib.
    backref = true, % Show reference to page.
    backrefstyle = three, % Will compress sequences of three pages or mmore, e.g. 1,2,3,5,7 to 1-3,5,7.
    isbn=false,
    url=false, % Note: @Online references will stay unaffected (yay).
    giveninits=true, % Show only initials for given names.
    uniquename=init, % To disable conflict warning because of giveninits.
]{biblatex}
% Space out bib entries a bit.
\setlength\bibitemsep{1.5\itemsep}
% Put lastname before firstname.
\DeclareNameAlias{sortname}{family-given}
% Separates author names with semicolon instead of comma.
%\renewcommand{\multinamedelim}{\addsemicolon\space}

% Bib resources.
\addbibresource{../references/references.bib}
\addbibresource{../references/websites.bib}
\addbibresource{../references/unpublished.bib}

\input{macros.tex}

%\includeonly{titlepage, declaration_of_originality, evaluation, schluss, appendix}

\newcommand{\tableheadcolor}{\rowcolor{black!30}}
\newcommand{\rowcolorodd}{\rowcolor{gray!25}}
\newcommand{\rowcoloreven}{\rowcolor{gray!10}}

\begin{document}

\pagenumbering{roman}
\include{titlepage}
\include{declaration_of_originality}
\include{thanks}
\include{abstract}

\tableofcontents
\cleardoublepage
\pagenumbering{arabic}

\include{einleitung}
\include{related_work}
\include{konzept}
\include{implementation}
\include{evaluation}
\include{schluss}

\printbibliography[heading=bibintoc, nottype=online]
\printbibliography[heading=bibintoc, title={Online Referenzen}, type=online]

\include{appendix}

\end{document}
